<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
      
		<h:head>
		<title>Product Lists</title>
		
		<style type="text/css">
			body {
				  font-family: Verdana, Arial, Helvetica, sans-serif;
				  font-size: 14px;
			}
			.header {
				  font-family: Verdana, Arial, Helvetica, sans-serif;
				  font-size: 18px;
			}
			.bottom {
				  font-family: Verdana, Arial, Helvetica, sans-serif;
				  font-size: 9px;
				  text-align: center;
				  vertical-align: middle;
				  color: #8E969D;
			}
		</style>
		</h:head>

<body>
	<b:navBar brand="iStoque" brandHref="principal.xhtml" inverse="true">
  	<b:navbarLinks>
  		<b:navLink value="Vender Produtos" href="sellProduct.xhtml"></b:navLink>
  		<b:navLink value="Listar Produtos" href="sellProduct.xhtml"></b:navLink>
  		<b:navLink value="Listar Produtos" href="ProductList.xhtml"></b:navLink>
  		<b:navLink value="Listar Funcionarios" href="FunctionaryList.xhtml"></b:navLink>
	    <b:navLink value="Cadastrar Funcionario" href="RegisterFunctionary.xhtml"></b:navLink>   	    
  		<b:navLink value="Cadastrar Produto" href="RegisterProduct.xhtml"></b:navLink> 	  
  	</b:navbarLinks>
	</b:navBar>
	
	<center>
	<h2>Bom dia!</h2>
	<h3>Abaixo você pode adicionar, editar ou remover seus produtos.</h3>
		<h:form id="productForm">
        <h:dataTable id="productsTable" value="#{regProductMB.getProductList()}"
        var="product" class="table table-striped table-hover table-bordered tableUpdated">
            <h:column>
                <f:facet name="header">Código</f:facet>
                <h:outputText value="#{product.id}"/>                
            </h:column>
            <h:column>
            	<f:facet name="header">Nome</f:facet>
              <h:outputText value="#{product.productName}" />
            </h:column>
             
            <h:column>
                <f:facet name="header">Categoria</f:facet>
                <h:outputText value="#{product.category}" />
            </h:column>
            
            <h:column>
                <f:facet name="header">Quantidade</f:facet>
                <h:outputText value="#{product.quantity}" />
            </h:column>
            <h:column>
                <f:facet name="header">Valor</f:facet>
                <h:outputText value="#{product.value}" />
            </h:column>
            <h:column>
                <div class="form-group">
                <h:outputLabel for="quantity" class="control-label col-sm-2">Quantidade:</h:outputLabel>
                <div class="col-sm-4">
                    <h:inputText id="value-id" value="#{regSellMB.quantity}" class="form-control"/>
                </div>
            </div>
            </h:column>       
            <h:column>
                <f:facet name="header">Vender</f:facet>
                <h:commandButton action="#{regSellMB.sellProduct(product.id)}" value="Vender" update="@form" class="btn btn-primary" />
            </h:column>
        </h:dataTable>       
  
       
    </h:form>
    
   
	<h3>Produtos vendidos.</h3>
	<h>Total vendido: </h>
	<h:outputText value="#{regSellMB.totalValue}"/>
		<h:form id="sellForm">
        <h:dataTable id="sellsTable" value="#{regSellMB.getSellList()}"
        var="sell" class="table table-striped table-hover table-bordered tableUpdated">
            <h:column>
                <f:facet name="header">Código</f:facet>
                <h:outputText value="#{sell.getProductId()}"/>                
            </h:column>
            <h:column>
            	<f:facet name="header">Nome</f:facet>
              <h:outputText value="#{sell.getProductName()}" />
            </h:column>
             
            <h:column>
                <f:facet name="header">Categoria</f:facet>
                <h:outputText value="#{sell.getProductCategory()}" />
            </h:column>
            
            <h:column>
                <f:facet name="header">Quantidade</f:facet>
                <h:outputText value="#{sell.getProductQuantity()}" />
            </h:column>
            <h:column>
                <f:facet name="header">Valor</f:facet>
                <h:outputText value="#{sell.getProductValue()}" />
            </h:column> 
            <h:column>
                <f:facet name="header">Valor da Venda</f:facet>
                <h:outputText value="#{sell.sellValue()}" />
            </h:column>     
           
        </h:dataTable>       
  
       
    </h:form>
    
    </center>

</body>

</html>